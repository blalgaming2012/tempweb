# مخطط تدفق التطبيق - Tempweb

## التدفق الجديد (بعد التحديث)

```
┌─────────────────────────────────────────────────────────────┐
│                    الصفحة الرئيسية (/)                      │
│                                                             │
│  • شعار Tempweb                                             │
│  • عرض المميزات                                            │
│  • شرح الأدوار                                             │
│  • زر "تسجيل الدخول"                                       │
│                                                             │
│  [متاحة للجميع - لا تتطلب تسجيل دخول]                      │
└─────────────────────────────────────────────────────────────┘
                            │
                            │ الضغط على "تسجيل الدخول"
                            ↓
┌─────────────────────────────────────────────────────────────┐
│                  صفحة تسجيل الدخول (/login)                 │
│                                                             │
│  • حقل اسم المستخدم                                        │
│  • حقل كلمة المرور                                         │
│  • زر "تسجيل الدخول"                                       │
│  • معلومات الحسابات التجريبية                              │
│                                                             │
└─────────────────────────────────────────────────────────────┘
                            │
                            │ تسجيل دخول ناجح
                            ↓
┌─────────────────────────────────────────────────────────────┐
│                 لوحة التحكم (/dashboard)                    │
│                                                             │
│  • إحصائيات حسب الدور                                      │
│  • بطاقات تفاعلية                                          │
│  • قائمة تنقل في الهيدر                                    │
│                                                             │
│  [محمية - تتطلب تسجيل دخول]                                │
└─────────────────────────────────────────────────────────────┘
                            │
                            │ الضغط على "تسجيل الخروج"
                            ↓
                  العودة للصفحة الرئيسية (/)
```

## حالات الهيدر (Header)

### للمستخدمين غير المسجلين
```
┌──────────────────────────────────────────────────────────┐
│  [Tempweb Logo]              [تسجيل الدخول] [🌙/☀️]    │
└──────────────────────────────────────────────────────────┘
```

### للمستخدمين المسجلين
```
┌──────────────────────────────────────────────────────────────────────┐
│  [Tempweb Logo] [لوحة التحكم] [الطلبات] [المهام]                   │
│                                    [اسم المستخدم] [🚪] [🌙/☀️]      │
└──────────────────────────────────────────────────────────────────────┘
```

## المسارات والصلاحيات

```
المسار                 الوصول              الصلاحيات
─────────────────────────────────────────────────────────
/                     عام                 الجميع
/login                عام                 الجميع
/dashboard            محمي                جميع المستخدمين المسجلين
/requests             محمي                مدير + خدمة عملاء
/my-tasks             محمي                عامل فقط
/admin                محمي                مدير فقط
```

## سيناريوهات الاستخدام

### السيناريو 1: زائر جديد
```
1. يفتح التطبيق
   ↓
2. يرى الصفحة الرئيسية
   ↓
3. يقرأ عن المميزات
   ↓
4. يضغط "تسجيل الدخول"
   ↓
5. يدخل بيانات الدخول
   ↓
6. يصل للوحة التحكم
```

### السيناريو 2: مستخدم مسجل
```
1. يفتح التطبيق
   ↓
2. يرى الصفحة الرئيسية
   ↓
3. يضغط "الذهاب إلى لوحة التحكم"
   ↓
4. يصل مباشرة للوحة التحكم
```

### السيناريو 3: محاولة الوصول لصفحة محمية
```
1. مستخدم غير مسجل يحاول الوصول لـ /dashboard
   ↓
2. إعادة توجيه تلقائية إلى /login
   ↓
3. بعد تسجيل الدخول → /dashboard
```

### السيناريو 4: تسجيل الخروج
```
1. مستخدم مسجل يضغط "تسجيل الخروج"
   ↓
2. تسجيل الخروج
   ↓
3. إعادة توجيه إلى الصفحة الرئيسية (/)
```

## الحماية والتوجيه التلقائي

```
┌─────────────────────────────────────────────────────────┐
│  إذا: مستخدم غير مسجل + صفحة محمية                    │
│  النتيجة: إعادة توجيه إلى /login                       │
└─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────┐
│  إذا: مستخدم مسجل + صفحة /login                        │
│  النتيجة: إعادة توجيه إلى /dashboard                   │
└─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────┐
│  إذا: مستخدم بدون صلاحية + صفحة محمية                 │
│  النتيجة: إعادة توجيه إلى /                            │
└─────────────────────────────────────────────────────────┘
```

## مقارنة التدفق

### قبل التحديث
```
فتح التطبيق → صفحة تسجيل الدخول → لوحة التحكم (/)
```

### بعد التحديث
```
فتح التطبيق → الصفحة الرئيسية (/) → تسجيل الدخول → لوحة التحكم (/dashboard)
```

## الفوائد

✅ **تجربة أفضل**: الزوار يمكنهم رؤية معلومات النظام أولاً
✅ **احترافية**: صفحة رئيسية جذابة ومعلوماتية
✅ **مرونة**: يمكن إضافة محتوى تسويقي
✅ **وضوح**: تدفق منطقي وواضح
✅ **أمان**: حماية قوية للصفحات المحمية

---

**آخر تحديث**: 14 ديسمبر 2025
